(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[5],{108:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var r=n(58),a=n.n(r),c=n(59),i=n(60),s=n(0),o=n(2),u=n(15),l=n(57),j=n(17),b=n(97),p=n.n(b),f=n(1);function d(e){var t=e.movie,n=t.release_date.slice(0,4);return Object(f.jsxs)("div",{className:p.a.card,children:[Object(f.jsx)("img",{src:l.f+t.poster_path,alt:t.title,width:"280",height:"402"}),Object(f.jsxs)("div",{className:p.a.discr,children:[Object(f.jsxs)("h1",{children:[t.title," (",n,")"]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("span",{className:p.a.text,children:" User score:"})," ",t.vote_average]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("span",{className:p.a.text,children:" Overview:"})," ",t.overview]}),Object(f.jsxs)("ul",{className:p.a.list,children:[Object(f.jsx)("span",{className:p.a.text,children:"Genres:"}),t.genres.map((function(e){return Object(f.jsx)("li",{className:p.a.genre_item,children:e.name},e.id)}))]})]})]})}var v=n(64),O=n(9),h=n(98),x=n.n(h);function m(){var e=Object(o.g)(),t=Object(o.i)().url;return Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{children:"Additional information:"}),Object(f.jsxs)("ul",{className:x.a.list,children:[Object(f.jsx)("li",{children:Object(f.jsx)(O.c,{to:{pathname:"".concat(t,"/cast"),state:Object(v.a)({},e.state)},className:x.a.link,activeClassName:x.a.activeLink,children:"Cast"})}),Object(f.jsx)("li",{children:Object(f.jsx)(O.c,{to:{pathname:"".concat(t,"/reviews"),state:Object(v.a)({},e.state)},className:x.a.link,activeClassName:x.a.activeLink,children:"Reviews"})})]})]})}var g=n(99),w=n.n(g),_=Object(s.lazy)((function(){return n.e(7).then(n.bind(null,105))})),k=Object(s.lazy)((function(){return n.e(8).then(n.bind(null,106))}));function y(){var e=Object(o.h)().movieId,t=Object(o.f)(),n=Object(o.g)(),r=Object(o.i)().path,b=Object(s.useState)(null),p=Object(i.a)(b,2),v=p[0],O=p[1],h=Object(s.useState)("idle"),x=Object(i.a)(h,2),g=x[0],y=x[1];Object(s.useEffect)((function(){function t(){return(t=Object(c.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,y("pending"),t.next=4,l.b(e);case 4:if(n=t.sent){t.next=7;break}throw new Error;case 7:O(n),y("resolved"),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),y("rejected"),u.b.error("Not found");case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]);return Object(f.jsxs)(f.Fragment,{children:["pending"===g&&Object(f.jsx)(j.a,{}),Object(f.jsx)("button",{type:"button",onClick:function(){var e,r;t.push(null!==(e=null===n||void 0===n||null===(r=n.state)||void 0===r?void 0:r.from)&&void 0!==e?e:"/")},className:w.a.button,children:"Back"}),v&&Object(f.jsx)(d,{movie:v}),v&&Object(f.jsx)(m,{}),Object(f.jsx)(s.Suspense,{fallback:Object(f.jsx)(j.a,{}),children:Object(f.jsxs)(o.c,{children:[Object(f.jsx)(o.a,{path:"".concat(r,"/cast"),children:Object(f.jsx)(_,{})}),Object(f.jsx)(o.a,{path:"".concat(r,"/reviews"),children:Object(f.jsx)(k,{})})]})})]})}},57:function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return j})),n.d(t,"c",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"f",(function(){return f}));var r=n(58),a=n.n(r),c=n(59),i=n(61),s=n.n(i);s.a.defaults.baseURL="https://api.themoviedb.org/3";var o="e46b87edbe0418b9678f5579382a8e13",u=function(){var e=Object(c.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("/trending/movie/week?api_key=".concat(o));case 2:return t=e.sent,n=t.data.results,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("/search/movie?api_key=".concat(o,"&query=").concat(t,"&page=").concat(n,"&language=en-US"));case 2:return r=e.sent,c=r.data.results,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("/movie/".concat(t,"?api_key=").concat(o,"&language=en-US"));case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("/movie/".concat(t,"/reviews?api_key=").concat(o,"&language=en-US"));case 2:return n=e.sent,r=n.data.results,console.log(r),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("/movie/".concat(t,"/credits?api_key=").concat(o,"&language=en-US"));case 2:return n=e.sent,r=n.data.cast,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f="https://image.tmdb.org/t/p/w500"},64:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(18);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},97:function(e,t,n){e.exports={card:"MovieDetailsInfo_card__14LwD",discr:"MovieDetailsInfo_discr__12JaA",text:"MovieDetailsInfo_text__-4ozd",list:"MovieDetailsInfo_list__20TSA"}},98:function(e,t,n){e.exports={list:"MovieNavigation_list__3bGUY",link:"MovieNavigation_link__3AiJa",activeLink:"MovieNavigation_activeLink__iexNN"}},99:function(e,t,n){e.exports={button:"MovieDetailsPage_button__Jq6Fk"}}}]);
//# sourceMappingURL=5.b1ec69b1.chunk.js.map